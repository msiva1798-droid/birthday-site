<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday My Love</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg1: #0f172a;
      --bg2: #1f2937;
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.15);
      --pink: #fb7185;
      --gold: #fbbf24;
      --card-bg: rgba(15, 23, 42, 0.92);
      --text-main: #f9fafb;
      --text-soft: #e5e7eb;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.55);
      --radius-xl: 24px;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Roboto", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at top, #111827 0, #020617 60%);
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    /* Background layers */
    #background-layers {
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 0;
      pointer-events: none;
    }

    #balloon-layer,
    #flower-layer,
    #firework-layer,
    #popup-layer {
      position: absolute;
      inset: 0;
      overflow: hidden;
    }

    main {
      position: relative;
      z-index: 2;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px 12px 24px;
    }

    .card {
      width: 100%;
      max-width: 430px;
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: var(--shadow-soft);
      padding: 18px 16px 20px;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0% 0%, rgba(244, 114, 182, 0.25), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(56, 189, 248, 0.18), transparent 60%);
      opacity: 0.3;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .hidden {
      display: none !important;
    }

    h1,
    h2,
    h3 {
      margin: 0;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .pre-title {
      text-transform: uppercase;
      font-size: 0.7rem;
      letter-spacing: 0.25em;
      color: rgba(248, 250, 252, 0.8);
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .pre-title span.sparkle {
      font-size: 0.9rem;
    }

    .main-title {
      font-size: 1.4rem;
      margin-bottom: 6px;
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: 4px;
    }

    .main-title .name {
      font-size: 1.5rem;
      color: var(--gold);
      text-shadow: 0 0 18px rgba(251, 191, 36, 0.8);
    }

    .subtitle {
      font-size: 0.8rem;
      color: var(--text-soft);
      opacity: 0.9;
      margin-bottom: 14px;
    }

    .highlight-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(249, 115, 22, 0.7);
      box-shadow: 0 0 18px rgba(249, 115, 22, 0.55);
      font-size: 0.7rem;
      margin-bottom: 12px;
    }

    .highlight-pill .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(249, 115, 22, 0.95);
    }

    /* Profile photo */
    .photo-wrap {
      width: 140px;
      height: 140px;
      margin: 4px auto 12px;
      border-radius: 999px;
      padding: 3px;
      background: conic-gradient(
        from 0deg,
        #f97316,
        #fb7185,
        #a855f7,
        #38bdf8,
        #22c55e,
        #f97316
      );
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.8);
    }

    .photo-inner {
      width: 100%;
      height: 100%;
      border-radius: 999px;
      overflow: hidden;
      border: 3px solid rgba(15, 23, 42, 0.9);
      background: #020617;
    }

    .photo-inner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .photo-glow {
      position: absolute;
      inset: -10%;
      border-radius: inherit;
      background: radial-gradient(circle, rgba(248, 250, 252, 0.1), transparent 60%);
      mix-blend-mode: screen;
      opacity: 0.7;
      pointer-events: none;
    }

    /* Countdown */
    .countdown-label {
      font-size: 0.75rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(248, 250, 252, 0.85);
      margin-bottom: 6px;
      text-align: center;
    }

    .countdown-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 6px;
      margin-bottom: 12px;
    }

    .time-box {
      background: rgba(15, 23, 42, 0.92);
      border-radius: 14px;
      padding: 6px 4px 7px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.85);
    }

    .time-value {
      font-size: 1.05rem;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .time-label {
      font-size: 0.63rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: rgba(209, 213, 219, 0.9);
    }

    .message {
      font-size: 0.85rem;
      color: var(--text-soft);
      text-align: center;
      line-height: 1.5;
      margin-bottom: 10px;
    }

    .message strong {
      color: var(--pink);
      font-weight: 600;
    }

    .tiny-note {
      font-size: 0.65rem;
      opacity: 0.75;
      text-align: center;
    }

    /* Celebration view */
    #celebration-view .main-title {
      font-size: 1.55rem;
      text-align: center;
      justify-content: center;
    }

    #celebration-view .main-title span {
      display: inline-block;
    }

    .celebration-photo-wrap {
      width: 180px;
      height: 180px;
      margin: 8px auto 10px;
      border-radius: 32px;
      padding: 3px;
      background:
        conic-gradient(from 120deg, #f97316, #facc15, #22c55e, #38bdf8, #a855f7, #fb7185, #f97316);
      position: relative;
      box-shadow: 0 18px 36px rgba(15, 23, 42, 0.9);
    }

    .celebration-photo-inner {
      width: 100%;
      height: 100%;
      border-radius: 26px;
      overflow: hidden;
      border: 3px solid rgba(15, 23, 42, 0.96);
      background: #020617;
    }

    .celebration-photo-inner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .celebration-text-main {
      font-size: 0.95rem;
      color: var(--text-soft);
      text-align: center;
      line-height: 1.6;
      margin-bottom: 6px;
    }

    .celebration-text-main strong {
      color: var(--gold);
    }

    .celebration-text-extra {
      font-size: 0.8rem;
      color: rgba(226, 232, 240, 0.9);
      text-align: center;
      line-height: 1.6;
      margin-bottom: 10px;
    }

    .tagline {
      font-size: 0.8rem;
      text-align: center;
      margin-bottom: 10px;
      color: rgba(248, 250, 252, 0.95);
    }

    .tagline span {
      background: linear-gradient(120deg, #f97316, #fb7185, #a855f7);
      -webkit-background-clip: text;
      color: transparent;
      font-weight: 600;
    }

    .celebration-badges {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 6px;
    }

    .badge {
      font-size: 0.65rem;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .badge-heart {
      font-size: 0.8rem;
    }

    /* Wow pop-up animation at celebration */
    .wow-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at center, rgba(15, 23, 42, 0.94), rgba(15, 23, 42, 0.5));
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 4;
      pointer-events: none;
      animation: wowFade 2.2s ease-out forwards;
    }

    .wow-text {
      font-size: 1.6rem;
      padding: 12px 16px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(251, 191, 36, 0.9);
      display: flex;
      gap: 6px;
      align-items: center;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      text-align: center;
      box-shadow: 0 0 40px rgba(251, 191, 36, 0.9);
      transform-origin: center;
      animation: wowPop 1.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    @keyframes wowPop {
      0% {
        transform: scale(0.1) rotate(-10deg);
        opacity: 0;
      }
      40% {
        transform: scale(1.15) rotate(6deg);
        opacity: 1;
      }
      70% {
        transform: scale(0.96) rotate(-2deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
      }
    }

    @keyframes wowFade {
      0% {
        opacity: 1;
      }
      70% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }

    .celebration-bounce {
      animation: cardBop 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    @keyframes cardBop {
      0% {
        transform: scale(0.92) translateY(10px);
      }
      30% {
        transform: scale(1.04) translateY(-6px) rotate(-1deg);
      }
      55% {
        transform: scale(0.98) translateY(2px);
      }
      80% {
        transform: scale(1.02) translateY(-3px) rotate(1deg);
      }
      100% {
        transform: scale(1) translateY(0);
      }
    }

    /* Flying balloons */
    .balloon {
      position: absolute;
      bottom: -80px;
      width: 28px;
      height: 38px;
      border-radius: 50% 50% 45% 45%;
      background: radial-gradient(circle at 30% 20%, #ffffff, #fb7185);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.7);
      animation: floatUp var(--duration, 14s) linear infinite;
      opacity: 0.95;
    }

    .balloon::after {
      content: "";
      position: absolute;
      top: 34px;
      left: 50%;
      width: 2px;
      height: 30px;
      background: rgba(148, 163, 184, 0.8);
      transform: translateX(-50%);
    }

    .balloon.b2 {
      background: radial-gradient(circle at 30% 20%, #ffffff, #38bdf8);
    }

    .balloon.b3 {
      background: radial-gradient(circle at 30% 20%, #ffffff, #a855f7);
    }

    .balloon.b4 {
      background: radial-gradient(circle at 30% 20%, #ffffff, #facc15);
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) translateX(0);
      }
      50% {
        transform: translateY(-50vh) translateX(14px);
      }
      100% {
        transform: translateY(-110vh) translateX(-6px);
      }
    }

    /* Flower rain */
    .flower {
      position: absolute;
      top: -40px;
      font-size: 1.1rem;
      animation: fallDown var(--duration, 9s) linear infinite;
      opacity: 0.9;
      filter: drop-shadow(0 4px 6px rgba(15, 23, 42, 0.8));
    }

    @keyframes fallDown {
      0% {
        transform: translateY(0) rotate(0deg);
      }
      100% {
        transform: translateY(110vh) rotate(180deg);
      }
    }

    /* Love popups */
    .love-popup {
      position: absolute;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.94);
      border: 1px solid rgba(236, 72, 153, 0.9);
      font-size: 0.7rem;
      line-height: 1.3;
      max-width: 60vw;
      box-shadow: 0 12px 25px rgba(24, 24, 37, 0.75);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      animation: popupFloat 5s ease-out forwards;
    }

    .love-popup span.heart {
      font-size: 0.9rem;
    }

    @keyframes popupFloat {
      0% {
        transform: translateY(10px) scale(0.9);
        opacity: 0;
      }
      15% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
      80% {
        transform: translateY(-40px) scale(1.03);
        opacity: 1;
      }
      100% {
        transform: translateY(-60px) scale(0.95);
        opacity: 0;
      }
    }

    /* Fireworks (light) */
    .firework {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 0 16px rgba(248, 250, 252, 0.9);
      animation: fireworkSpread 1.1s ease-out forwards;
    }

    .spark {
      position: absolute;
      width: 3px;
      height: 7px;
      border-radius: 999px;
      background: #f97316;
      transform-origin: bottom center;
      opacity: 0;
      animation: sparkFly 1.1s ease-out forwards;
    }

    .spark.pink {
      background: #fb7185;
    }

    .spark.gold {
      background: #facc15;
    }

    @keyframes fireworkSpread {
      0% {
        transform: scale(0.4);
        opacity: 0.9;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
      100% {
        transform: scale(0.2);
        opacity: 0;
      }
    }

    @keyframes sparkFly {
      0% {
        opacity: 0;
        transform: translate(0, 0) scaleY(0.4);
      }
      25% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: translate(var(--dx), var(--dy)) scaleY(1);
      }
    }

    /* Secret settings panel */
    #secret-tap-zone {
      position: fixed;
      width: 44px;
      height: 44px;
      bottom: 6px;
      right: 6px;
      z-index: 3;
      background: transparent;
    }

    #settings-panel {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.4), rgba(15, 23, 42, 0.9));
      z-index: 5;
    }

    .settings-sheet {
      width: 100%;
      max-width: 460px;
      background: rgba(15, 23, 42, 0.98);
      border-radius: 18px 18px 0 0;
      border-top: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: 0 -16px 32px rgba(0, 0, 0, 0.7);
      padding: 10px 14px 14px;
      max-height: 80vh;
      overflow-y: auto;
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .settings-title {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .settings-hint {
      font-size: 0.65rem;
      opacity: 0.8;
      margin-bottom: 6px;
    }

    .settings-group {
      margin-bottom: 8px;
      padding: 6px 8px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px dashed rgba(148, 163, 184, 0.7);
    }

    .settings-group-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      opacity: 0.75;
      margin-bottom: 4px;
    }

    label {
      display: block;
      font-size: 0.72rem;
      margin: 3px 0 2px;
      opacity: 0.9;
    }

    input[type="text"],
    input[type="datetime-local"],
    input[type="number"],
    textarea {
      width: 100%;
      padding: 5px 7px;
      border-radius: 9px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-size: 0.72rem;
      outline: none;
    }

    textarea {
      min-height: 52px;
      resize: vertical;
    }

    .settings-row-inline {
      display: flex;
      gap: 6px;
    }

    .settings-row-inline > div {
      flex: 1;
    }

    .settings-actions {
      display: flex;
      justify-content: flex-end;
      gap: 6px;
      margin-top: 6px;
    }

    .btn {
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
    }

    .btn-primary {
      background: linear-gradient(120deg, #f97316, #fb7185);
      border-color: rgba(251, 146, 60, 0.9);
      color: #0f172a;
      font-weight: 600;
    }

    .settings-toggle {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-size: 0.7rem;
      margin-top: 3px;
    }

    input[type="checkbox"] {
      transform: scale(1.05);
    }

    /* Small screen tweaks */
    @media (max-width: 360px) {
      .card {
        padding: 16px 12px 18px;
      }

      .photo-wrap {
        width: 130px;
        height: 130px;
      }

      .celebration-photo-wrap {
        width: 170px;
        height: 170px;
      }

      .wow-text {
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body>
<!-- ====== BACKGROUND MUSIC ====== -->
<audio id="bg-music" preload="auto" loop>
  <source src="aud.mp3" type="audio/mpeg">
</audio>

<script>
// ====== MUSIC AUTOPLAY AFTER FIRST TAP ======
let musicStarted = true;

function startMusic() {
  if (!musicStarted) {
    const audio = document.getElementById("bg-music");
    audio.volume = 0.7; // adjust loudness (0‚Äì1)
    audio.play().catch(()=>{});
    musicStarted = true;
  }
}

document.addEventListener("click", startMusic, { once: true });
document.addEventListener("touchstart", startMusic, { once: true });
</script>

  <!-- Background layers (balloons, flowers, fireworks, love popups) -->
  <div id="background-layers">
    <div id="balloon-layer"></div>
    <div id="flower-layer"></div>
    <div id="firework-layer"></div>
    <div id="popup-layer"></div>
  </div>

  <!-- MAIN CONTENT -->
  <main>
    <!-- Countdown card -->
    <section id="countdown-view" class="card">
      <div class="card-inner">
        <div class="pre-title">
          <span class="sparkle">‚ú®</span>
          <span id="pre-title-text">Surprise for My Chellakutty is loadingü•≥</span>
        </div>

        <div class="main-title">
          <span>Happy Birthday</span>
          <span class="name" id="her-name">Sujitha Sivasurya üíû</span>
        </div>

        <div class="subtitle" id="pre-subtitle">
          Counting down to 12:00 AM, 14 December, to celebrate My Chella Pondati's B'day, who owns my entire heart.
        </div>

        <div class="highlight-pill">
          <span class="dot"></span>
          <span id="highlight-pill-text">My Wife's B'day surprise starts the second this timer hits zero.</span>
        </div>

        <div class="photo-wrap">
          <div class="photo-inner">
            <img
              id="pre-photo"
              src="IMG_7462_001.jpg"
              alt="Her photo"
            />
          </div>
          <div class="photo-glow"></div>
        </div>

        <div class="countdown-label">Time left for My Chella Pondati B'dayü•∞ü´Çüíã</div>

        <div class="countdown-grid">
          <div class="time-box">
            <div class="time-value" id="days">00</div>
            <div class="time-label">Days</div>
          </div>
          <div class="time-box">
            <div class="time-value" id="hours">00</div>
            <div class="time-label">Hours</div>
          </div>
          <div class="time-box">
            <div class="time-value" id="minutes">00</div>
            <div class="time-label">Minutes</div>
          </div>
          <div class="time-box">
            <div class="time-value" id="seconds">00</div>
            <div class="time-label">Seconds</div>
          </div>
        </div>

        <div class="message" id="pre-message">
          Filled with our unconditional love, our smiles, balloons, flowers, magic and us ‚Äî
          <strong>Every moment with you is a gift. On your birthday, I want you to know just how much you mean to me di my thangameü´∂.</strong>
        </div>

        <div class="tiny-note">
          This page looks simple now, but it will transform into something 
          <strong>beautiful filled with our unconditional love, our smiles, balloons, flowers, magic and us</strong> when your birthday starts di kuttachiiüòòü•∞üíã‚≠ê‚ú®üí´ü™Ñ
        </div>
      </div>
    </section>

    <!-- Celebration card (shown after countdown) -->
    <section id="celebration-view" class="card hidden">
      <div class="card-inner">
        <div class="pre-title">
          <span class="sparkle">üéâ</span>
          <span id="cele-pre-title">It‚Äôs finally your momentüòòüíãü•∞</span>
        </div>

        <div class="main-title">
          <span id="cele-main-text-1">Happiest Birthday di</span>
          <span class="name" id="cele-main-text-2">Suji Chellam üíû</span>
        </div>

        <div class="tagline">
          To the girl whose smile makes my whole world feel like a soft
          <span>festival of lights &amp; flowers</span>.
        </div>

        <div class="celebration-photo-wrap">
          <div class="celebration-photo-inner">
            <img
              id="cele-photo"
              src="IMG_20250407_202922.jpg"
              alt="Her celebration photo"
            />
          </div>
        </div>

        <p class="celebration-text-main" id="cele-text-main">
          Happy Birthday, <strong>my love</strong> üå∏ Every second with you feels like a tiny miracle.
          Tonight, the balloons, flowers, lights and sky are all celebrating
          <strong>My Lovely Wife's B'day</strong>.
        </p>

        <p class="celebration-text-extra" id="cele-text-extra">
          I‚Äôm so grateful for your laugh, your chaos, your softness, your Kindness and
          the way you make even normal days feel special. I don‚Äôt know the future,
          but I know one thing for sure ‚Äî I want to keep choosing you, over and over, in every lifetime. ‚ù§Ô∏è
        </p>

        <div class="celebration-badges">
          <span class="badge">
            <span class="badge-heart">üíñ</span>
            <span id="badge-1">My favourite notification, every day</span>
          </span>
          <span class="badge">
            <span class="badge-heart">üå∏</span>
            <span id="badge-2">More than just a wish, you‚Äôre my prayer</span>
          </span>
        </div>

        <div class="tiny-note" id="cele-note">
          Tap anywhere ‚Äî this whole page is full of tiny surprises made only for you. ‚ú®
        </div>
      </div>
    </section>
  </main>

  <!-- Secret tap zone for customization -->
  <div id="secret-tap-zone"></div>

  <!-- Hidden settings / customization panel -->
  <div id="settings-panel" class="hidden">
    <div class="settings-sheet">
      <div class="settings-header">
        <div>
          <div class="settings-title">Secret Customisation</div>
          <div class="settings-hint">
            Only you know this exists. Edit date/time, photos, texts, balloons &amp; effects.
          </div>
        </div>
        <button id="close-settings" class="btn">Close</button>
      </div>

      <!-- Date & time -->
      <div class="settings-group">
        <div class="settings-group-title">Countdown to birthday</div>
        <label for="event-datetime">Target date &amp; time (12:00 AM on her birthday)</label>
        <input type="datetime-local" id="event-datetime" />
      </div>

      <!-- Names & pre text -->
      <div class="settings-group">
        <div class="settings-group-title">Main details</div>
        <label for="her-name-input">Her name (shown big)</label>
        <input type="text" id="her-name-input" placeholder="My Love" />

        <label for="pre-subtitle-input">Small intro line before birthday</label>
        <textarea
          id="pre-subtitle-input"
          placeholder="Counting down to the moment I get to wish you in the cutest way."
        ></textarea>

        <label for="pre-message-input">Pre-birthday sweet message (countdown screen)</label>
        <textarea
          id="pre-message-input"
          placeholder="Filled with our unconditional love, our smiles, balloons, flowers, magic and us ‚Äî"
        ></textarea>
      </div>

      <!-- Celebration text -->
      <div class="settings-group">
        <div class="settings-group-title">Celebration texts (different &amp; extra)</div>
        <div class="settings-row-inline">
          <div>
            <label for="cele-title-1-input">Celebration title line 1</label>
            <input type="text" id="cele-title-1-input" placeholder="Happiest Birthday di" />
          </div>
          <div>
            <label for="cele-title-2-input">Celebration title line 2 (special name)</label>
            <input type="text" id="cele-title-2-input" placeholder="Suji Chellam üíû" />
          </div>
        </div>

        <label for="cele-main-text-input">
          Celebration main wish text (must be different from the countdown message)
        </label>
        <textarea
          id="cele-main-text-input"
          placeholder="Happy Birthday, my love üå∏ Every second with you feels like a tiny miracle..."
        ></textarea>

        <label for="cele-extra-text-input">
          Celebration extra lovable text (little deeper, more emotional)
        </label>
        <textarea
          id="cele-extra-text-input"
          placeholder="I‚Äôm so grateful for your laugh, your chaos, your softness..."
        ></textarea>

        <label for="popup-lines-input">
          Popup love lines (use | to separate multiple short texts)
        </label>
        <textarea
          id="popup-lines-input"
          placeholder="You are my favourite person|I love your smile|Forever isn‚Äôt enough with you"
        ></textarea>
      </div>

      <!-- Photos -->
      <div class="settings-group">
        <div class="settings-group-title">Photos</div>
        <label for="pre-photo-input">Main countdown photo URL</label>
        <input
          type="text"
          id="pre-photo-input"
          placeholder="IMG_7462_001.jpg"
        />

        <label for="cele-photo-input">Celebration photo URL (different photo)</label>
        <input
          type="text"
          id="cele-photo-input"
          placeholder="IMG_20250407_202922.jpg"
        />
      </div>

      <!-- Effects -->
      <div class="settings-group">
        <div class="settings-group-title">Effects &amp; balloons</div>
        <div class="settings-row-inline">
          <div>
            <label for="balloon-count-normal">Balloons before celebration (0‚Äì500)</label>
            <input type="number" id="balloon-count-normal" min="0" max="500" />
          </div>
          <div>
            <label for="balloon-count-cele">Balloons during celebration (0‚Äì500)</label>
            <input type="number" id="balloon-count-cele" min="0" max="500" />
          </div>
        </div>

        <div class="settings-toggle">
          <input type="checkbox" id="fireworks-enabled" />
          <label for="fireworks-enabled">Enable light fireworks during celebration</label>
        </div>
      </div>

      <div class="settings-actions">
        <button id="reset-settings" class="btn">Reset to defaults</button>
        <button id="save-settings" class="btn btn-primary">Save &amp; Apply</button>
      </div>
    </div>
  </div>

  <script>
    // ========= CONFIG (you can also edit from the secret panel) =========
    const defaultConfig = {
      // IMPORTANT: This is your initial target date/time.
      // You can change this in the secret settings panel too.
      // Format: "YYYY-MM-DDTHH:MM"
      eventDateTime: "2025-12-14T00:00",

      herName: "Sujitha Sivasurya üíû",

      preSubtitle:
        "Counting down to 12:00 AM, 14 December, to celebrate My Chella Pondati's B'day, who owns my entire heart.",

      preMessage:
        "When this countdown ends, a special page will bloom just for you ‚Äî <strong>Every moment with you is a gift. On your birthday, I want you to know just how much you mean to me di my thangame ü´∂üíûü´∂</strong>",

      highlightText: "My Wife's B'day surprise starts the second this timer hits zero.",
      preTitleText: "Surprise for My Chellakutty is loadingü•≥",

      // Celebration texts
      celePreTitle: "It‚Äôs finally your moment",
      celeTitle1: "Happiest Birthday di",
      celeTitle2: "Suji Chellam üíû",
      celeMainText:
        "Happy Birthday, <strong>my love</strong> üå∏ Every second with you feels like a tiny miracle. Tonight, the balloons, flowers, lights and sky are all celebrating <strong>My Lovely Wife's B'day</strong>.",
      celeExtraText:
        "I‚Äôm so grateful for your laugh, your chaos, your softness, your Kindness and the way you make even normal days feel special. I don‚Äôt know the future, but I know one thing for sure ‚Äî I want to keep choosing you, over and over, in every lifetime. ‚ù§Ô∏è",
      badge1: "My favourite notification, every day",
      badge2: "More than just a wish, you‚Äôre my prayer",
      celeNote: "Tap anywhere ‚Äî this whole page is full of tiny surprises made only for you. ‚ú®",

      // Popup love lines (split by |)
      popupLines:
        "You are my favourite person|My Chella Pondati|My Life Line|My Everything|I love your smile|My 1st an last Love|My Honey|My Sweat Heart|You are my safe place|My dear Pondati|My Honeymoon Partner|My Life Partner|Every version of me loves you|My Hot Pondati|I‚Äôm happiest when I‚Äôm with you|My Lovely Pondati",

      // Photos
      prePhotoUrl:
        "IMG_7462_001.jpg",
      celePhotoUrl:
        "IMG_20250407_202922.jpg",

      // Balloons
      balloonCountNormal: 200,
      balloonCountCelebration: 400,

      // Effects
      fireworksEnabled: true
    };

    // ======== STATE & UTILITIES ========
    let config = loadConfig();
    let targetDate = parseEventDate(config.eventDateTime);
    let countdownInterval = null;
    let celebrationStarted = false;
    let balloonMode = "normal";
    let balloonCountCurrent = 0;

    function parseEventDate(str) {
      // Basic parse; if invalid, fallback to now + 1 minute
      const d = new Date(str);
      if (isNaN(d.getTime())) {
        return new Date(Date.now() + 60 * 1000);
      }
      return d;
    }

    function loadConfig() {
      try {
        const stored = localStorage.getItem("gfBirthdayConfig_v1");
        if (stored) {
          const parsed = JSON.parse(stored);
          return { ...defaultConfig, ...parsed };
        }
      } catch (e) {
        console.warn("Could not load stored config:", e);
      }
      return { ...defaultConfig };
    }

    function saveConfig() {
      try {
        localStorage.setItem("gfBirthdayConfig_v1", JSON.stringify(config));
      } catch (e) {
        console.warn("Could not save config:", e);
      }
    }

    function htmlDecodeAndSet(element, html) {
      if (!element) return;
      element.innerHTML = html;
    }

    // ======== APPLY CONFIG TO UI ========
    function applyConfigToUI() {
      document.getElementById("her-name").textContent = config.herName || "Suji Chellam";
      document.getElementById("pre-subtitle").textContent =
        config.preSubtitle || defaultConfig.preSubtitle;

      document.getElementById("pre-title-text").textContent =
        config.preTitleText || defaultConfig.preTitleText;
      document.getElementById("highlight-pill-text").textContent =
        config.highlightText || defaultConfig.highlightText;

      const preMsgEl = document.getElementById("pre-message");
      htmlDecodeAndSet(preMsgEl, config.preMessage || defaultConfig.preMessage);

      const prePhoto = document.getElementById("pre-photo");
      prePhoto.src = config.prePhotoUrl || defaultConfig.prePhotoUrl;

      // Celebration
      document.getElementById("cele-pre-title").textContent =
        config.celePreTitle || defaultConfig.celePreTitle;
      document.getElementById("cele-main-text-1").textContent =
        config.celeTitle1 || defaultConfig.celeTitle1;
      document.getElementById("cele-main-text-2").textContent =
        config.celeTitle2 || defaultConfig.celeTitle2;

      htmlDecodeAndSet(
        document.getElementById("cele-text-main"),
        config.celeMainText || defaultConfig.celeMainText
      );
      htmlDecodeAndSet(
        document.getElementById("cele-text-extra"),
        config.celeExtraText || defaultConfig.celeExtraText
      );

      document.getElementById("badge-1").textContent = config.badge1 || defaultConfig.badge1;
      document.getElementById("badge-2").textContent = config.badge2 || defaultConfig.badge2;
      document.getElementById("cele-note").textContent = config.celeNote || defaultConfig.celeNote;

      const celePhoto = document.getElementById("cele-photo");
      celePhoto.src = config.celePhotoUrl || defaultConfig.celePhotoUrl;

      // Settings fields
      const dtInput = document.getElementById("event-datetime");
      const localIso = config.eventDateTime || defaultConfig.eventDateTime;
      dtInput.value = localIso;

      document.getElementById("her-name-input").value = config.herName || "";
      document.getElementById("pre-subtitle-input").value = config.preSubtitle || "";
      document.getElementById("pre-message-input").value = config.preMessage || "";

      document.getElementById("cele-title-1-input").value = config.celeTitle1 || "";
      document.getElementById("cele-title-2-input").value = config.celeTitle2 || "";
      document.getElementById("cele-main-text-input").value = config.celeMainText || "";
      document.getElementById("cele-extra-text-input").value = config.celeExtraText || "";

      document.getElementById("popup-lines-input").value =
        config.popupLines || defaultConfig.popupLines;

      document.getElementById("pre-photo-input").value = config.prePhotoUrl || "";
      document.getElementById("cele-photo-input").value = config.celePhotoUrl || "";

      document.getElementById("balloon-count-normal").value =
        config.balloonCountNormal ?? defaultConfig.balloonCountNormal;
      document.getElementById("balloon-count-cele").value =
        config.balloonCountCelebration ?? defaultConfig.balloonCountCelebration;
      document.getElementById("fireworks-enabled").checked =
        config.fireworksEnabled ?? defaultConfig.fireworksEnabled;
    }

    // ======== COUNTDOWN LOGIC ========
    function startCountdown() {
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);
    }

    function pad(num) {
      return String(num).padStart(2, "0");
    }

    function updateCountdown() {
      const now = new Date();
      const diff = targetDate.getTime() - now.getTime();

      if (diff <= 0) {
        // Countdown finished
        document.getElementById("days").textContent = "00";
        document.getElementById("hours").textContent = "00";
        document.getElementById("minutes").textContent = "00";
        document.getElementById("seconds").textContent = "00";

        if (!celebrationStarted) {
          startCelebration();
        }
        return;
      }

      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      document.getElementById("days").textContent = pad(days);
      document.getElementById("hours").textContent = pad(hours);
      document.getElementById("minutes").textContent = pad(minutes);
      document.getElementById("seconds").textContent = pad(seconds);
    }

    // ======== CELEBRATION LOGIC ========
    function startCelebration() {
      celebrationStarted = true;
      balloonMode = "celebration";

      // Switch views
      document.getElementById("countdown-view").classList.add("hidden");
      const cele = document.getElementById("celebration-view");
      cele.classList.remove("hidden");
      cele.classList.add("celebration-bounce");

      // Wow overlay (bop up moment)
      createWowOverlay();

      // Start effects: flowers, balloons, popups, fireworks
      startFlowerRain();
      startLovePopups();
      if (config.fireworksEnabled) {
        startFireworks();
      }

      // Increase balloons for celebration
      targetBalloonCount = config.balloonCountCelebration ?? defaultConfig.balloonCountCelebration;
    }

    function createWowOverlay() {
      const overlay = document.createElement("div");
      overlay.className = "wow-overlay";
      overlay.innerHTML =
        '<div class="wow-text"><span>üéâ</span><span>HAPPY BIRTHDAY</span><span>üéâ</span></div>';
      document.body.appendChild(overlay);
      setTimeout(() => {
        overlay.remove();
      }, 2200);
    }

    // ======== BALLOONS ========
    const balloonLayer = document.getElementById("balloon-layer");
    let targetBalloonCount = config.balloonCountNormal ?? defaultConfig.balloonCountNormal;

    function spawnBalloon() {
      if (balloonCountCurrent >= targetBalloonCount) return;
      const b = document.createElement("div");
      b.className = "balloon";

      // Random color style
      const variant = Math.ceil(Math.random() * 4);
      b.classList.add("b" + variant);

      const left = Math.random() * 100; // vw
      const scale = 0.6 + Math.random() * 0.8;
      const duration = 10 + Math.random() * 10;

      b.style.left = left + "vw";
      b.style.setProperty("--duration", duration + "s");
      b.style.transform = "scale(" + scale + ")";
      balloonLayer.appendChild(b);
      balloonCountCurrent++;

      b.addEventListener("animationiteration", () => {
        // Slight random jitter per loop
        const shift = (Math.random() - 0.5) * 16;
        b.style.left = Math.min(100, Math.max(0, left + shift)) + "vw";
      });

      b.addEventListener("animationend", () => {
        b.remove();
        balloonCountCurrent--;
      });
    }

    setInterval(() => {
      // Maintain balloons based on target count
      // At celebration, targetBalloonCount is higher
      if (balloonCountCurrent < targetBalloonCount) {
        spawnBalloon();
      }
    }, 200);

    // ======== FLOWER RAIN ========
    const flowerLayer = document.getElementById("flower-layer");
    let flowerRainStarted = false;

    function startFlowerRain() {
      if (flowerRainStarted) return;
      flowerRainStarted = true;

      const flowers = ["üå∏", "üå∫", "üå∑", "üíê", "üåπ","üíó","‚ú®","üçí","üç≠","üçí","üç≠","üòò","ü•∞","üíã","üçå","üí¶","üíã","üçå","üí¶","üòã","üòõ"];
      setInterval(() => {
        const f = document.createElement("div");
        f.className = "flower";
        f.textContent = flowers[Math.floor(Math.random() * flowers.length)];

        const left = Math.random() * 100;
        const duration = 20 + Math.random() * 15;

        f.style.left = left + "vw";
        f.style.setProperty("--duration", duration + "s");
        flowerLayer.appendChild(f);

        setTimeout(() => f.remove(), (duration + 1) * 1000);
      }, 450); // continuous flower rain
    }

    // ======== LOVE POPUPS ========
    const popupLayer = document.getElementById("popup-layer");
    let popupIntervalStarted = false;

    function startLovePopups() {
      if (popupIntervalStarted) return;
      popupIntervalStarted = true;

      setInterval(() => {
        const textList =
          (config.popupLines || defaultConfig.popupLines).split("|").map((t) => t.trim()).filter(Boolean);
        if (!textList.length) return;

        const text = textList[Math.floor(Math.random() * textList.length)];

        const popup = document.createElement("div");
        popup.className = "love-popup";
        popup.innerHTML = '<span class="heart">üíó</span><span>' + text + "</span>";

        const left = 5 + Math.random() * 65;
        const top = 35 + Math.random() * 50;

        popup.style.left = left + "vw";
        popup.style.top = top + "vh";

        popupLayer.appendChild(popup);
        setTimeout(() => popup.remove(), 5000);
      }, 1800); // many popups but not too spammy
    }

    // ======== FIREWORKS (light) ========
    const fireworkLayer = document.getElementById("firework-layer");
    let fireworkIntervalStarted = false;

    function startFireworks() {
      if (fireworkIntervalStarted) return;
      fireworkIntervalStarted = true;

      setInterval(() => {
        createFirework();
      }, 3000); // less fireworks but continuous
    }

    function createFirework() {
      const fw = document.createElement("div");
      fw.className = "firework";

      const left = 15 + Math.random() * 70;
      const top = 18 + Math.random() * 40;

      fw.style.left = left + "vw";
      fw.style.top = top + "vh";

      fireworkLayer.appendChild(fw);

      // create sparks
      const sparkCount = 10 + Math.floor(Math.random() * 8);
      for (let i = 0; i < sparkCount; i++) {
        const sp = document.createElement("div");
        sp.className = "spark";

        // random color
        const types = ["", "pink", "gold"];
        sp.classList.add(types[Math.floor(Math.random() * types.length)]);

        const angle = (Math.PI * 2 * i) / sparkCount;
        const distance = 35 + Math.random() * 30;
        const dx = Math.cos(angle) * distance;
        const dy = Math.sin(angle) * distance;

        sp.style.setProperty("--dx", dx + "px");
        sp.style.setProperty("--dy", dy + "px");

        fw.appendChild(sp);
      }

      setTimeout(() => fw.remove(), 1200);
    }

    // ======== SECRET SETTINGS PANEL ========
    const secretZone = document.getElementById("secret-tap-zone");
    const settingsPanel = document.getElementById("settings-panel");
    const closeSettingsBtn = document.getElementById("close-settings");
    const saveSettingsBtn = document.getElementById("save-settings");
    const resetSettingsBtn = document.getElementById("reset-settings");

    let tapCount = 0;
    let tapTimer = null;

    secretZone.addEventListener("click", () => {
      tapCount++;
      if (tapCount >= 5) {
        tapCount = 0;
        openSettings();
      }
      clearTimeout(tapTimer);
      tapTimer = setTimeout(() => {
        tapCount = 0;
      }, 1500); // 1.5s window for 5 taps
    });

    function openSettings() {
      settingsPanel.classList.remove("hidden");
    }

    function closeSettings() {
      settingsPanel.classList.add("hidden");
    }

    closeSettingsBtn.addEventListener("click", () => {
      closeSettings();
    });

    settingsPanel.addEventListener("click", (e) => {
      // tap outside sheet to close
      if (e.target === settingsPanel) {
        closeSettings();
      }
    });

    saveSettingsBtn.addEventListener("click", () => {
      const dtValue = document.getElementById("event-datetime").value;
      if (dtValue) {
        config.eventDateTime = dtValue;
        targetDate = parseEventDate(dtValue);
      }

      config.herName = document.getElementById("her-name-input").value || config.herName;

      config.preSubtitle =
        document.getElementById("pre-subtitle-input").value || defaultConfig.preSubtitle;

      config.preMessage =
        document.getElementById("pre-message-input").value || defaultConfig.preMessage;

      config.celeTitle1 =
        document.getElementById("cele-title-1-input").value || defaultConfig.celeTitle1;

      config.celeTitle2 =
        document.getElementById("cele-title-2-input").value || defaultConfig.celeTitle2;

      config.celeMainText =
        document.getElementById("cele-main-text-input").value || defaultConfig.celeMainText;

      config.celeExtraText =
        document.getElementById("cele-extra-text-input").value || defaultConfig.celeExtraText;

      config.popupLines =
        document.getElementById("popup-lines-input").value || defaultConfig.popupLines;

      config.prePhotoUrl =
        document.getElementById("pre-photo-input").value || defaultConfig.prePhotoUrl;

      config.celePhotoUrl =
        document.getElementById("cele-photo-input").value || defaultConfig.celePhotoUrl;

      const normalCount = parseInt(
        document.getElementById("balloon-count-normal").value,
        10
      );
      const celeCount = parseInt(
        document.getElementById("balloon-count-cele").value,
        10
      );

      config.balloonCountNormal = isNaN(normalCount)
        ? defaultConfig.balloonCountNormal
        : Math.min(500, Math.max(0, normalCount));

      config.balloonCountCelebration = isNaN(celeCount)
        ? defaultConfig.balloonCountCelebration
        : Math.min(500, Math.max(0, celeCount));

      config.fireworksEnabled = document.getElementById("fireworks-enabled").checked;

      // apply and save
      targetBalloonCount = celebrationStarted
        ? config.balloonCountCelebration
        : config.balloonCountNormal;

      applyConfigToUI();
      saveConfig();
      closeSettings();
    });

    resetSettingsBtn.addEventListener("click", () => {
      config = { ...defaultConfig };
      targetDate = parseEventDate(config.eventDateTime);
      targetBalloonCount = config.balloonCountNormal;
      saveConfig();
      applyConfigToUI();
      closeSettings();
    });

    // ======== TAP ANYWHERE = SMALL EXTRA POPUPS ========
    document.addEventListener("click", (e) => {
      // Avoid triggering when clicking inside settings
      if (settingsPanel && !settingsPanel.classList.contains("hidden")) {
        return;
      }
      if (!celebrationStarted) return;
      createTapPopup(e.clientX, e.clientY);
    });

    function createTapPopup(x, y) {
      const textList =
        (config.popupLines || defaultConfig.popupLines).split("|").map((t) => t.trim()).filter(Boolean);
      if (!textList.length) return;

      const text = textList[Math.floor(Math.random() * textList.length)];

      const popup = document.createElement("div");
      popup.className = "love-popup";
      popup.innerHTML = '<span class="heart">üíû</span><span>' + text + "</span>";

      const vw = (x / window.innerWidth) * 100;
      const vh = (y / window.innerHeight) * 100;

      popup.style.left = Math.min(80, Math.max(5, vw)) + "vw";
      popup.style.top = Math.min(80, Math.max(10, vh)) + "vh";

      popupLayer.appendChild(popup);
      setTimeout(() => popup.remove(), 5000);
    }

    // ======== INIT ========
    applyConfigToUI();
    startCountdown();

    // start with normal balloon count
    targetBalloonCount = config.balloonCountNormal ?? defaultConfig.balloonCountNormal;
  </script>
</body>
</html>

